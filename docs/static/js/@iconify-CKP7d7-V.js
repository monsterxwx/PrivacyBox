const T=Object.freeze({left:0,top:0,width:16,height:16}),w=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),D=Object.freeze({...T,...w}),E=Object.freeze({...D,body:"",hidden:!1}),$=Object.freeze({width:null,height:null}),M=Object.freeze({...$,...w}),L=(t,i,s,n="")=>{const e=t.split(":");if(t.slice(0,1)==="@"){if(e.length<2||e.length>3)return null;n=e.shift().slice(1)}if(e.length>3||!e.length)return null;if(e.length>1){const l=e.pop(),u=e.pop(),h={provider:e.length>0?e[0]:n,prefix:u,name:l};return S(h)?h:null}const r=e[0],o=r.split("-");if(o.length>1){const l={provider:n,prefix:o.shift(),name:o.join("-")};return S(l)?l:null}if(s&&n===""){const l={provider:n,prefix:"",name:r};return S(l,s)?l:null}return null},S=(t,i)=>t?!!((i&&t.prefix===""||t.prefix)&&t.name):!1;function C(t,i){const s={};!t.hFlip!=!i.hFlip&&(s.hFlip=!0),!t.vFlip!=!i.vFlip&&(s.vFlip=!0);const n=((t.rotate||0)+(i.rotate||0))%4;return n&&(s.rotate=n),s}function b(t,i){const s=C(t,i);for(const n in E)n in w?n in t&&!(n in s)&&(s[n]=w[n]):n in i?s[n]=i[n]:n in t&&(s[n]=t[n]);return s}function P(t,i){const s=t.icons,n=t.aliases||Object.create(null),e=Object.create(null);function r(o){if(s[o])return e[o]=[];if(!(o in e)){e[o]=null;const l=n[o]&&n[o].parent,u=l&&r(l);u&&(e[o]=[l].concat(u))}return e[o]}return(i||Object.keys(s).concat(Object.keys(n))).forEach(r),e}function F(t,i,s){const n=t.icons,e=t.aliases||Object.create(null);let r={};function o(l){r=b(n[l]||e[l],r)}return o(i),s.forEach(o),b(t,r)}function R(t,i){if(t.icons[i])return F(t,i,[]);const s=P(t,[i])[i];return s?F(t,i,s):null}const G=/(-?[0-9.]*[0-9]+[0-9.]*)/g,H=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function j(t,i,s){if(i===1)return t;if(s=s||100,typeof t=="number")return Math.ceil(t*i*s)/s;if(typeof t!="string")return t;const n=t.split(G);if(n===null||!n.length)return t;const e=[];let r=n.shift(),o=H.test(r);for(;;){if(o){const l=parseFloat(r);isNaN(l)?e.push(r):e.push(Math.ceil(l*i*s)/s)}else e.push(r);if(r=n.shift(),r===void 0)return e.join("");o=!o}}function V(t,i="defs"){let s="";const n=t.indexOf("<"+i);for(;n>=0;){const e=t.indexOf(">",n),r=t.indexOf("</"+i);if(e===-1||r===-1)break;const o=t.indexOf(">",r);if(o===-1)break;s+=t.slice(e+1,r).trim(),t=t.slice(0,n).trim()+t.slice(o+1)}return{defs:s,content:t}}function z(t,i){return t?"<defs>"+t+"</defs>"+i:i}function A(t,i,s){const n=V(t);return z(n.defs,i+n.content+s)}const N=t=>t==="unset"||t==="undefined"||t==="none";function W(t,i){const s={...D,...t},n={...M,...i},e={left:s.left,top:s.top,width:s.width,height:s.height};let r=s.body;[s,n].forEach(g=>{const c=[],v=g.hFlip,O=g.vFlip;let a=g.rotate;v?O?a+=2:(c.push("translate("+(e.width+e.left).toString()+" "+(0-e.top).toString()+")"),c.push("scale(-1 1)"),e.top=e.left=0):O&&(c.push("translate("+(0-e.left).toString()+" "+(e.height+e.top).toString()+")"),c.push("scale(1 -1)"),e.top=e.left=0);let f;switch(a<0&&(a-=Math.floor(a/4)*4),a=a%4,a){case 1:f=e.height/2+e.top,c.unshift("rotate(90 "+f.toString()+" "+f.toString()+")");break;case 2:c.unshift("rotate(180 "+(e.width/2+e.left).toString()+" "+(e.height/2+e.top).toString()+")");break;case 3:f=e.width/2+e.left,c.unshift("rotate(-90 "+f.toString()+" "+f.toString()+")");break}a%2===1&&(e.left!==e.top&&(f=e.left,e.left=e.top,e.top=f),e.width!==e.height&&(f=e.width,e.width=e.height,e.height=f)),c.length&&(r=A(r,'<g transform="'+c.join(" ")+'">',"</g>"))});const o=n.width,l=n.height,u=e.width,h=e.height;let p,d;o===null?(d=l===null?"1em":l==="auto"?h:l,p=j(d,u/h)):(p=o==="auto"?u:o,d=l===null?j(p,h/u):l==="auto"?h:l);const x={},I=(g,c)=>{N(c)||(x[g]=c.toString())};I("width",p),I("height",d);const m=[e.left,e.top,u,h];return x.viewBox=m.join(" "),{attributes:x,viewBox:m,body:r}}const y=/\sid="(\S+)"/g,k=new Map;function B(t){t=t.replace(/[0-9]+$/,"")||"a";const i=k.get(t)||0;return k.set(t,i+1),i?`${t}${i}`:t}function K(t){const i=[];let s;for(;s=y.exec(t);)i.push(s[1]);if(!i.length)return t;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(e=>{const r=B(e),o=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+r+n+"$3")}),t=t.replace(new RegExp(n,"g"),""),t}function U(t,i){let s=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in i)s+=" "+n+'="'+i[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+s+">"+t+"</svg>"}export{U as a,R as g,W as i,K as r,L as s};
