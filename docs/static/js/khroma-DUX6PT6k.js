const L={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,a)=>(a<0&&(a+=1),a>1&&(a-=1),a<.16666666666666666?t+(e-t)*6*a:a<.5?e:a<.6666666666666666?t+(e-t)*(.6666666666666666-a)*6:t),hsl2rgb:({h:t,s:e,l:a},r)=>{if(!e)return a*2.55;t/=360,e/=100,a/=100;const s=a<.5?a*(1+e):a+e-a*e,i=2*a-s;switch(r){case"r":return L.hue2rgb(i,s,t+.3333333333333333)*255;case"g":return L.hue2rgb(i,s,t)*255;case"b":return L.hue2rgb(i,s,t-.3333333333333333)*255}},rgb2hsl:({r:t,g:e,b:a},r)=>{t/=255,e/=255,a/=255;const s=Math.max(t,e,a),i=Math.min(t,e,a),c=(s+i)/2;if(r==="l")return c*100;if(s===i)return 0;const d=s-i,o=c>.5?d/(2-s-i):d/(s+i);if(r==="s")return o*100;switch(s){case t:return((e-a)/d+(e<a?6:0))*60;case e:return((a-t)/d+2)*60;case a:return((t-e)/d+4)*60;default:return-1}}},C={clamp:(t,e,a)=>e>a?Math.min(e,Math.max(a,t)):Math.min(a,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},A={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},n={channel:L,lang:C,unit:A},g={};for(let t=0;t<=255;t++)g[t]=n.unit.dec2hex(t);const f={ALL:0,RGB:1,HSL:2};class _{constructor(){this.type=f.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=f.ALL}is(e){return this.type===e}}class q{constructor(e,a){this.color=a,this.changed=!1,this.data=e,this.type=new _}set(e,a){return this.color=a,this.changed=!1,this.data=e,this.type.type=f.ALL,this}_ensureHSL(){const e=this.data,{h:a,s:r,l:s}=e;a===void 0&&(e.h=n.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=n.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=n.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:a,g:r,b:s}=e;a===void 0&&(e.r=n.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=n.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=n.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,a=e.r;return!this.type.is(f.HSL)&&a!==void 0?a:(this._ensureHSL(),n.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,a=e.g;return!this.type.is(f.HSL)&&a!==void 0?a:(this._ensureHSL(),n.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,a=e.b;return!this.type.is(f.HSL)&&a!==void 0?a:(this._ensureHSL(),n.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,a=e.h;return!this.type.is(f.RGB)&&a!==void 0?a:(this._ensureRGB(),n.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,a=e.s;return!this.type.is(f.RGB)&&a!==void 0?a:(this._ensureRGB(),n.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,a=e.l;return!this.type.is(f.RGB)&&a!==void 0?a:(this._ensureRGB(),n.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(f.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(f.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(f.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(f.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(f.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(f.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const $=new q({r:0,g:0,b:0,a:0},"transparent"),p={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(p.re);if(!e)return;const a=e[1],r=parseInt(a,16),s=a.length,i=s%4===0,c=s>4,d=c?1:17,o=c?8:4,l=i?0:-1,u=c?255:15;return $.set({r:(r>>o*(l+3)&u)*d,g:(r>>o*(l+2)&u)*d,b:(r>>o*(l+1)&u)*d,a:i?(r&u)*d/255:1},t)},stringify:t=>{const{r:e,g:a,b:r,a:s}=t;return s<1?`#${g[Math.round(e)]}${g[Math.round(a)]}${g[Math.round(r)]}${g[Math.round(s*255)]}`:`#${g[Math.round(e)]}${g[Math.round(a)]}${g[Math.round(r)]}`}},b={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(b.hueRe);if(e){const[,a,r]=e;switch(r){case"grad":return n.channel.clamp.h(parseFloat(a)*.9);case"rad":return n.channel.clamp.h(parseFloat(a)*180/Math.PI);case"turn":return n.channel.clamp.h(parseFloat(a)*360)}}return n.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const a=t.match(b.re);if(!a)return;const[,r,s,i,c,d]=a;return $.set({h:b._hue2deg(r),s:n.channel.clamp.s(parseFloat(s)),l:n.channel.clamp.l(parseFloat(i)),a:c?n.channel.clamp.a(d?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{h:e,s:a,l:r,a:s}=t;return s<1?`hsla(${n.lang.round(e)}, ${n.lang.round(a)}%, ${n.lang.round(r)}%, ${s})`:`hsl(${n.lang.round(e)}, ${n.lang.round(a)}%, ${n.lang.round(r)}%)`}},y={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=y.colors[t];if(e)return p.parse(e)},stringify:t=>{const e=p.stringify(t);for(const a in y.colors)if(y.colors[a]===e)return a}},m={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const a=t.match(m.re);if(!a)return;const[,r,s,i,c,d,o,l,u]=a;return $.set({r:n.channel.clamp.r(s?parseFloat(r)*2.55:parseFloat(r)),g:n.channel.clamp.g(c?parseFloat(i)*2.55:parseFloat(i)),b:n.channel.clamp.b(o?parseFloat(d)*2.55:parseFloat(d)),a:l?n.channel.clamp.a(u?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{r:e,g:a,b:r,a:s}=t;return s<1?`rgba(${n.lang.round(e)}, ${n.lang.round(a)}, ${n.lang.round(r)}, ${n.lang.round(s)})`:`rgb(${n.lang.round(e)}, ${n.lang.round(a)}, ${n.lang.round(r)})`}},h={format:{keyword:y,hex:p,rgb:m,rgba:m,hsl:b,hsla:b},parse:t=>{if(typeof t!="string")return t;const e=p.parse(t)||m.parse(t)||b.parse(t)||y.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(f.HSL)||t.data.r===void 0?b.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?m.stringify(t):p.stringify(t)},x=(t,e)=>{const a=h.parse(t);for(const r in e)a[r]=n.channel.clamp[r](e[r]);return h.stringify(a)},P=(t,e,a=0,r=1)=>{if(typeof t!="number")return x(t,{a:e});const s=$.set({r:n.channel.clamp.r(t),g:n.channel.clamp.g(e),b:n.channel.clamp.b(a),a:n.channel.clamp.a(r)});return h.stringify(s)},D=(t,e)=>n.lang.round(h.parse(t)[e]),E=t=>{const{r:e,g:a,b:r}=h.parse(t),s=.2126*n.channel.toLinear(e)+.7152*n.channel.toLinear(a)+.0722*n.channel.toLinear(r);return n.lang.round(s)},I=t=>E(t)>=.5,U=t=>!I(t),H=(t,e,a)=>{const r=h.parse(t),s=r[e],i=n.channel.clamp[e](s+a);return s!==i&&(r[e]=i),h.stringify(r)},z=(t,e)=>H(t,"l",e),T=(t,e)=>H(t,"l",-e),K=(t,e)=>{const a=h.parse(t),r={};for(const s in e)e[s]&&(r[s]=a[s]+e[s]);return x(t,r)},N=(t,e,a=50)=>{const{r,g:s,b:i,a:c}=h.parse(t),{r:d,g:o,b:l,a:u}=h.parse(e),F=a/100,w=F*2-1,M=c-u,k=((w*M===-1?w:(w+M)/(1+w*M))+1)/2,v=1-k,R=r*k+d*v,S=s*k+o*v,B=i*k+l*v,G=c*F+u*(1-F);return P(R,S,B,G)},O=(t,e=100)=>{const a=h.parse(t);return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,N(a,t,e)};export{K as a,U as b,D as c,T as d,O as i,z as l,P as r};
