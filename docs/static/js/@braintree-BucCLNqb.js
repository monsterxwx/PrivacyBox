var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function b(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var c=e.default;if(typeof c=="function"){var i=function n(){return this instanceof n?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};i.prototype=c.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}),i}var d={},t={},m;function C(){return m||(m=1,Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_URL=t.relativeFirstCharacters=t.whitespaceEscapeCharsRegex=t.urlSchemeRegex=t.ctrlCharactersRegex=t.htmlCtrlEntityRegex=t.htmlEntitiesRegex=t.invalidProtocolRegex=void 0,t.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,t.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,t.htmlCtrlEntityRegex=/&(newline|tab);/gi,t.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,t.urlSchemeRegex=/^.+(:|&colon;)/gim,t.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,t.relativeFirstCharacters=[".","/"],t.BLANK_URL="about:blank"),t}var R;function y(){if(R)return d;R=1,Object.defineProperty(d,"__esModule",{value:!0}),d.sanitizeUrl=void 0;var e=C();function c(r){return e.relativeFirstCharacters.indexOf(r[0])>-1}function i(r){var s=r.replace(e.ctrlCharactersRegex,"");return s.replace(e.htmlEntitiesRegex,function(a,o){return String.fromCharCode(o)})}function n(r){return URL.canParse(r)}function l(r){try{return decodeURIComponent(r)}catch{return r}}function v(r){if(!r)return e.BLANK_URL;var s,a=l(r.trim());do a=i(a).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),a=l(a),s=a.match(e.ctrlCharactersRegex)||a.match(e.htmlEntitiesRegex)||a.match(e.htmlCtrlEntityRegex)||a.match(e.whitespaceEscapeCharsRegex);while(s&&s.length>0);var o=a;if(!o)return e.BLANK_URL;if(c(o))return o;var p=o.trimStart(),g=p.match(e.urlSchemeRegex);if(!g)return o;var u=g[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(u))return e.BLANK_URL;var f=p.replace(/\\/g,"/");if(u==="mailto:"||u.includes("://"))return f;if(u==="http:"||u==="https:"){if(!n(f))return e.BLANK_URL;var h=new URL(f);return h.protocol=h.protocol.toLowerCase(),h.hostname=h.hostname.toLowerCase(),h.toString()}return f}return d.sanitizeUrl=v,d}var U=y();export{w as a,x as c,U as d,b as g};
