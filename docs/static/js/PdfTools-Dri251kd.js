import{r as h,c as p,a as e,x as V,q as G,_ as H,F as D,l as F,t as d,e as b,H as B,j,o as m,n as N}from"./@vue-vD6pU9gy.js";import{E as U}from"./jspdf-36PzOCxV.js";import{P as w}from"./pdf-lib-BEFWa8Mx.js";import{J as Z}from"./jszip-t-wNPaY1.js";import{F as $}from"./file-saver-BKfBWXJe.js";import{_ as q}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./@mermaid-js-BAp2aObr.js";import"./langium-DJMK8hyp.js";import"./vscode-jsonrpc-CNa_m3dn.js";import"./chevrotain-BCfWnvdc.js";import"./@chevrotain-B9w1F9z3.js";import"./lodash-es-0h6_uya3.js";import"./chevrotain-allstar-DPtXl-ZX.js";import"./vscode-languageserver-types-NoPvPymt.js";import"./vscode-languageserver-textdocument-CKBVUiR3.js";import"./vscode-uri-DEqhlMU_.js";import"./@babel-Dehwj3G0.js";import"./fflate-B2WnmEVw.js";import"./fast-png-DPQtZKMM.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-Dz4WtTqg.js";import"./@braintree-BucCLNqb.js";import"./tslib-CDy3hUEr.js";import"./@pdf-lib-DZaEbUIl.js";import"./crypto-js-BRR1vjfQ.js";const K={class:"h-100% bg-slate-50 relative overflow-x-hidden overflow-y-auto font-sans selection:bg-red-100"},O={class:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 py-12"},Q={class:"text-center mb-12"},X={class:"grid lg:grid-cols-12 gap-8 items-start"},Y={class:"lg:col-span-4 flex flex-col gap-3"},ee=["onClick"],te={class:"font-bold text-slate-800 text-base mb-0.5"},se={class:"text-xs text-slate-500"},oe={class:"lg:col-span-8"},ae={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 min-h-[500px] flex flex-col relative overflow-hidden transition-all"},re={class:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-white/40"},le={class:"flex items-center gap-2"},ie={class:"text-2xl"},ne={class:"font-bold text-slate-800"},de={class:"flex-1 p-6 md:p-8 flex flex-col"},ce={class:"text-xs text-slate-400 mt-2"},pe=["accept"],me={key:1,class:"flex flex-col h-full"},ue={class:"flex-1 overflow-y-auto custom-scrollbar pr-2 mb-4 space-y-2"},ge={class:"flex items-center gap-3 overflow-hidden"},fe={class:"w-10 h-10 bg-slate-100 text-slate-500 rounded-lg flex items-center justify-center font-bold text-[10px] shrink-0 uppercase"},xe={class:"min-w-0"},ve={class:"text-sm font-bold text-slate-800 truncate"},he={class:"text-xs text-slate-400"},be={class:"flex items-center gap-2"},we={key:0,class:"flex gap-1 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"},ye=["onClick","disabled"],_e=["onClick","disabled"],ke=["onClick"],Pe={class:"pt-6 border-t border-slate-100 flex justify-between items-center bg-white/50 -mx-6 -mb-6 px-6 py-4 mt-auto"},Ce={class:"text-xs text-slate-500"},De={class:"flex gap-3"},Fe=["disabled"],Be={key:0,class:"animate-spin w-4 h-4 border-2 border-white/30 border-t-white rounded-full"},je={__name:"PdfTools",setup(Ne){const _=[{id:"img2pdf",name:"ÂõæÁâáËΩ¨ PDF",desc:"Â∞Ü JPG/PNG ÂõæÁâáÂêàÂπ∂‰∏∫ PDF ÊñáÊ°£",icon:"üñºÔ∏è",accept:"image/jpeg, image/png",actionName:"ÁîüÊàê PDF"},{id:"merge",name:"PDF ÂêàÂπ∂",desc:"Â∞ÜÂ§ö‰∏™ PDF Êñá‰ª∂ÊåâÈ°∫Â∫èÂêàÂπ∂‰∏∫‰∏Ä‰∏™",icon:"üìë",accept:".pdf",actionName:"ÂêàÂπ∂ PDF"},{id:"split",name:"PDF ÊãÜÂàÜ",desc:"Â∞Ü PDF ÁöÑÊØè‰∏ÄÈ°µÊãÜÂàÜ‰∏∫ÂçïÁã¨Êñá‰ª∂",icon:"‚úÇÔ∏è",accept:".pdf",actionName:"ÊãÜÂàÜÂπ∂‰∏ãËΩΩ ZIP"}],i=h(_[0]),r=h([]),g=h(!1),k=h(null),A=s=>{i.value=s,r.value=[]},P=()=>k.value.click(),I=s=>{s.target.files.length&&(r.value=[...r.value,...Array.from(s.target.files)]),s.target.value=""},z=s=>{if(s.dataTransfer.files.length){const t=Array.from(s.dataTransfer.files).filter(a=>i.value.id==="img2pdf"?a.type.startsWith("image/"):a.type==="application/pdf"||a.name.endsWith(".pdf"));r.value=[...r.value,...t]}},T=s=>r.value.splice(s,1),C=(s,t)=>{const a=r.value[s];r.value.splice(s,1),r.value.splice(s+t,0,a)},E=async()=>{if(r.value.length!==0){g.value=!0;try{switch(await new Promise(s=>setTimeout(s,500)),i.value.id){case"img2pdf":await L();break;case"merge":await R();break;case"split":await S();break}}catch(s){console.error(s),alert("Â§ÑÁêÜÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂ÊòØÂê¶ÊçüÂùèÊàñÂä†ÂØÜ„ÄÇ")}finally{g.value=!1}}},L=async()=>{const s=new U;for(let t=0;t<r.value.length;t++){const a=r.value[t],o=await W(a),{width:l,height:n}=await J(o),f=210,c=297,u=Math.min(f/l,c/n),x=l*u,v=n*u,y=(f-x)/2,M=(c-v)/2;t>0&&s.addPage(),s.addImage(o,"JPEG",y,M,x,v)}s.save(`images_merged_${Date.now()}.pdf`)},R=async()=>{const s=await w.create();for(const o of r.value){const l=await o.arrayBuffer(),n=await w.load(l);(await s.copyPages(n,n.getPageIndices())).forEach(c=>s.addPage(c))}const t=await s.save(),a=new Blob([t],{type:"application/pdf"});$.saveAs(a,`merged_${Date.now()}.pdf`)},S=async()=>{const s=new Z,t=s.folder("split_pages");for(const o of r.value){const l=await o.arrayBuffer(),n=await w.load(l),f=n.getPageCount();for(let c=0;c<f;c++){const u=await w.create(),[x]=await u.copyPages(n,[c]);u.addPage(x);const v=await u.save(),y=`${o.name.replace(".pdf","")}_page_${c+1}.pdf`;t.file(y,v)}}const a=await s.generateAsync({type:"blob"});$.saveAs(a,`split_pages_${Date.now()}.zip`)},W=s=>new Promise(t=>{const a=new FileReader;a.onload=o=>t(o.target.result),a.readAsDataURL(s)}),J=s=>new Promise(t=>{const a=new Image;a.onload=()=>t({width:a.width,height:a.height}),a.src=s});return(s,t)=>{const a=H("RouterLink");return m(),p("div",K,[t[10]||(t[10]=e("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),t[11]||(t[11]=e("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-red-400 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),t[12]||(t[12]=e("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),t[13]||(t[13]=e("div",{class:"absolute top-[30%] left-[20%] w-[400px] h-[400px] bg-orange-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-blob animation-delay-4000"},null,-1)),e("div",O,[e("div",Q,[V(a,{to:"/",class:"inline-flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-red-600 mb-4 transition-colors"},{default:G(()=>[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"m15 18-6-6 6-6"})],-1),b(" ËøîÂõûÈ¶ñÈ°µ ",-1)])]),_:1}),t[3]||(t[3]=e("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4"},[e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-orange-600"},"PDF ÊûÅÈÄüÂ∑•ÂÖ∑ÁÆ±")],-1)),t[4]||(t[4]=e("p",{class:"text-slate-600 max-w-2xl mx-auto"}," Âü∫‰∫é WebAssembly ÊäÄÊúØÔºåÊó†ÈúÄ‰∏ä‰º†ÊúçÂä°Âô®Ôºå‰øùÊä§ÊÇ®ÁöÑÊñáÊ°£ÈöêÁßÅ„ÄÇ ",-1))]),e("div",X,[e("div",Y,[(m(),p(D,null,F(_,o=>e("div",{key:o.id,onClick:l=>A(o),class:N(["group cursor-pointer relative p-4 rounded-2xl border transition-all duration-300 flex items-center gap-4",i.value.id===o.id?"bg-white border-red-200 shadow-xl shadow-red-500/10 ring-1 ring-red-500 transform scale-105 z-10":"bg-white/60 border-white/50 hover:bg-white hover:shadow-md"])},[e("div",{class:N(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl transition-colors shrink-0",i.value.id===o.id?"bg-gradient-to-br from-red-500 to-orange-500 text-white shadow-lg shadow-red-500/30":"bg-slate-100 text-slate-500 group-hover:bg-red-50 group-hover:text-red-500"])},d(o.icon),3),e("div",null,[e("div",te,d(o.name),1),e("div",se,d(o.desc),1)])],10,ee)),64))]),e("div",oe,[e("div",ae,[e("div",re,[e("div",le,[e("span",ie,d(i.value.icon),1),e("span",ne,d(i.value.name),1)]),t[5]||(t[5]=e("div",{class:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded border border-green-200 font-medium flex items-center gap-1"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-green-500"}),b(" Êú¨Âú∞ËøêË°å ")],-1))]),e("div",de,[r.value.length===0?(m(),p("div",{key:0,class:"flex-1 border-2 border-dashed border-slate-300 rounded-2xl bg-slate-50/50 hover:bg-red-50/30 hover:border-red-300 transition-all flex flex-col items-center justify-center cursor-pointer group",onClick:P,onDragover:t[0]||(t[0]=B(()=>{},["prevent"])),onDrop:B(z,["prevent"])},[t[6]||(t[6]=e("div",{class:"w-16 h-16 bg-white rounded-full shadow-sm flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition-transform text-slate-400 group-hover:text-red-500"}," ‚òÅÔ∏è ",-1)),t[7]||(t[7]=e("p",{class:"text-slate-600 font-medium group-hover:text-red-600"}," ÁÇπÂáªÊàñÊãñÊãΩÊñá‰ª∂Âà∞ËøôÈáå ",-1)),e("p",ce," ÊîØÊåÅ "+d(i.value.accept)+" Ê†ºÂºè ",1),e("input",{type:"file",ref_key:"fileInput",ref:k,class:"hidden",accept:i.value.accept,multiple:"",onChange:I},null,40,pe)],32)):(m(),p("div",me,[e("div",ue,[(m(!0),p(D,null,F(r.value,(o,l)=>(m(),p("div",{key:l,class:"bg-white border border-slate-100 p-3 rounded-xl flex items-center justify-between shadow-sm group hover:border-red-200 transition-colors"},[e("div",ge,[e("div",fe,d(o.name.split(".").pop()),1),e("div",xe,[e("div",ve,d(o.name),1),e("div",he,d((o.size/1024).toFixed(1))+" KB ",1)])]),e("div",be,[i.value.id==="merge"||i.value.id==="img2pdf"?(m(),p("div",we,[e("button",{onClick:n=>C(l,-1),disabled:l===0,class:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600 disabled:opacity-20"}," ‚Üë ",8,ye),e("button",{onClick:n=>C(l,1),disabled:l===r.value.length-1,class:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600 disabled:opacity-20"}," ‚Üì ",8,_e)])):j("",!0),e("button",{onClick:n=>T(l),class:"text-slate-400 hover:text-red-500 p-1.5 hover:bg-red-50 rounded-lg transition-colors"},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6 6 18"}),e("path",{d:"m6 6 18 12"})],-1)])],8,ke)])]))),128)),e("div",{class:"text-center mt-4"},[e("button",{onClick:P,class:"text-xs text-slate-500 hover:text-red-600 hover:underline flex items-center justify-center gap-1 mx-auto"},[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),b(" ÁªßÁª≠Ê∑ªÂä†Êñá‰ª∂ ",-1)])])])]),e("div",Pe,[e("div",Ce," ÂÖ± "+d(r.value.length)+" ‰∏™Êñá‰ª∂ ",1),e("div",De,[e("button",{onClick:t[1]||(t[1]=o=>r.value=[]),class:"px-4 py-2 text-sm text-slate-500 hover:text-red-600 font-medium transition-colors"}," Ê∏ÖÁ©∫ "),e("button",{onClick:E,disabled:g.value,class:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white font-bold rounded-xl shadow-lg shadow-red-500/30 flex items-center gap-2 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none"},[g.value?(m(),p("span",Be)):j("",!0),b(" "+d(g.value?"Â§ÑÁêÜ‰∏≠...":i.value.actionName),1)],8,Fe)])])]))])])])])])])}}},st=q(je,[["__scopeId","data-v-7c0f1d1a"]]);export{st as default};
